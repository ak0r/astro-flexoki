---
interface Props {
  as?: string
  style?: 'pill' | 'rounded' | undefined
  arrow?: 'forward' | 'backward' | undefined
  title?: string
  href?: string
  class?: string
  [x: string]: any
}

const {
  as: Tag = 'a',
  style = 'pill',
  arrow = '',
  title,
  href,
  class: className,
  ...rest
} = Astro.props

const styles = {
  pill: "rounded-full",
  rounded: "rounded-lg",
};
---

<Tag
  {...rest}
  class:list={[
    'group inline-flex items-center gap-x-1 bg-secondary-bg/10 hover:bg-secondary-bg border-2 border-primary-ui hover:border-hover-ui px-3 py-2 text-sm font-medium text-muted-txt transition-all no-underline',
    !href && 'cursor-default',
    styles[style],
    className,
  ]}
  href={href}
  data-astro-prefetch
>
  <slot name='before'>
    {
      arrow === 'backward' && (
        <svg
          xmlns='http://www.w3.org/2000/svg'
          width='16'
          height='16'
          viewBox='0 0 24 24'
          fill='none'
          stroke-width='2.5'
          stroke-linecap='round'
          stroke-linejoin='round'
          class='stroke-primary-ui group-hover:stroke-black/50'
        >
          <line
            x1='19'
            y1='12'
            x2='5'
            y2='12'
            class='translate-x-3 scale-x-0 transition-all duration-300 ease-in-out group-hover:translate-x-0 group-hover:scale-x-100'
          />
          <polyline
            points='12 19 5 12 12 5'
            class='translate-x-1 transition-all duration-300 ease-in-out group-hover:translate-x-0'
          />
        </svg>
      )
    }
  </slot>
  <slot>
    {title && <p class='my-0'>{title}</p>}
  </slot>
  <slot name='after'>
    {
      arrow === 'forward' && (
        <svg
          xmlns='http://www.w3.org/2000/svg'
          width='16'
          height='16'
          viewBox='0 0 24 24'
          fill='none'
          stroke-width='2.5'
          stroke-linecap='round'
          stroke-linejoin='round'
          class='stroke-primary-ui group-hover:stroke-black/50'
        >
          <line
            x1='5'
            y1='12'
            x2='19'
            y2='12'
            class='translate-x-4 scale-x-0 transition-all duration-300 ease-in-out group-hover:translate-x-1 group-hover:scale-x-100'
          />
          <polyline
            points='12 5 19 12 12 19'
            class='translate-x-0 transition-all duration-300 ease-in-out group-hover:translate-x-1'
          />
        </svg>
      )
    }
  </slot>
</Tag>